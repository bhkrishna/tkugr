application: rguktwebsite
version: 1
runtime: python27
api_version: 1
threadsafe: true

# Handlers match in order, put above the default handler.
handlers:

- url: /(.+)
  static_files: public/\1
  upload: public/(.*)

# site root
- url: /
  static_files: public/index.html
  upload: public/index.html


- url: /(.*\.(pdf|gif|png|jpg|ico|js|css|0|@))
  static_files: \1
  upload: (.*\.(pdf|gif|png|jpg|ico|js|css|0|@))



- url: /(.*\.woff)
  mime_type: application/x-font-woff
  static_files: \1
  upload: (.*\.woff)

- url: /(.*\.(svg|svgz))
  mime_type: images/svg+xml
  static_files: \1
  upload: (.*\.(svg|svgz))

- url: /(.*\.eot)
  mime_type: application/vnd.ms-fontobject
  static_files: \1
  upload: (.*\.eot)


- url: /(.*\.ttf)
  mime_type: font/truetype
  static_files: \1
  upload: (.*\.ttf)


- url: /(.*\.otf)
  mime_type: font/opentype
  static_files: \1
  upload: (.*\.otf)




# For folders without trailing slashes - ideally a 301 redirect, but we're static & it isn't 2004
- url: /([^\.]+)([^/])
  static_files: assets/\1\2/index.html
  upload: assets/(.+)

# Redirect Everything else
- url: /(.+)
  static_files: assets/\1
  upload: assets/(.+)


- url: /.*
  script: guestbook.app

libraries:
- name: webapp2
  version: latest
- name: jinja2
  version: latest
